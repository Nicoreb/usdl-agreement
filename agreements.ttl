@prefix :        	<http://www.linked-usdl.org/ns/usdl-agreement#> .
@prefix xsd: 		<http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: 		<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: 		<http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: 		<http://www.w3.org/2002/07/owl#> .
@prefix vann: 		<http://purl.org/vocab/vann/> .
@prefix foaf: 		<http://xmlns.com/foaf/0.1/> .
@prefix dcterms: 	<http://purl.org/dc/terms/> .
@prefix gr: 		<http://purl.org/goodrelations/v1#> .
@prefix skos: 		<http://www.w3.org/2004/02/skos/core#> .
@prefix time: 		<http://www.w3.org/2006/time#> .
@prefix usdl-core: <http://www.linked-usdl.org/ns/usdl-core#> .
@prefix usdl-br: <http://www.linked-usdl.org/ns/usdl-business-roles#> .

<http://www.linked-usdl.org/ns/usdl-agreement>
	rdf:type owl:Ontology ;
	rdfs:label "Linked USDL Agreement"@en ;
	dcterms:title "Linked USDL Agreement"@en ;
	dcterms:description """<p>This vocabulary is a Linked USDL module that provides support for modelling service agreements. 
	This module is informed by WS-Agreement and largely seeks to be backwards compatible with previous tooling on WS-Agreement.</p>"""@en ;
	dcterms:created "2014-03-06"^^xsd:date ;
	dcterms:modified "2014-04-01"^^xsd:date, "2014-10-22"^^xsd:date, "2014-11-13"^^xsd:date;
	vann:preferredNamespaceUri "http://www.linked-usdl.org/ns/usdl-agreement#";
	vann:preferredNamespacePrefix "usdl-agreement";
	owl:versionInfo "1.0"^^xsd:string .

# Main classes

:AgreementTerm
	rdf:type rdfs:Class , owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "An Agreement term represents a single term of a service level agreement."^^xsd:string ;
	rdfs:label "Agreement term"^^xsd:string .
	
:Guarantee
	rdf:type rdfs:Class , owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Guarantee represents an agreement term of a service level agreement that defines guarantees over service properties, and possibly compensations."^^xsd:string ;
	rdfs:label "Guarantee"^^xsd:string ;
	rdfs:subClassOf :AgreementTerm .

:Compensation
	rdf:type rdfs:Class , owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Compensation is a specialization of an agreement term that represents an alternative term that will be guaranteed in case that the original guarantee term (associated with the compensation via hasCompensation property) is not fulfilled."^^xsd:string ;
	rdfs:label "Compensation"^^xsd:string ;
	rdfs:subClassOf :AgreementTerm .

:EntityLiability
	rdf:type rdfs:Class , owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "EntityLiability helps captures a specific entity involvement defined by the ternary relationship between an agreement term, the business entities involved in the agreement, and the liability role they play, e.g., guarantor, beneficiary, etc. This enables specifying which parties are obliged to fulfil a guarantee term and which benefit from compensations, for instance."^^xsd:string ;
	rdfs:label "Compensation"^^xsd:string ;
	rdfs:subClassOf usdl-core:EntityInvolvement .
	
:LiabilityRole a rdfs:Class, owl:Class;
	rdfs:subClassOf usdl-core:Role;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
    rdfs:label "Liability role"^^xsd:string ;
    rdfs:comment "The liability role that an entity may play in an agreement term (e.g., Guarantor). One may define as many roles as necessary by defining subclasses of LiabilityRole or by creating SKOS concept schemes. For completeness, Linked USDL Agreement provides a basic concept scheme for these roles that can be used out of the box or as reference for specific extensions. See Linked USDL Liability Roles Module."^^xsd:string .
	
:ServiceProperty
	rdf:type rdfs:Class, owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Service property is a convenience class that represents the class of qualitative or quantitative properties that a service may specify. This class is defined over an specialization of GoodRelations qualitative and quantitative service properties."^^xsd:string ;
	rdfs:label "Service property"^^xsd:string ;
	owl:unionOf (
		[ rdf:type owl:Restriction ;
			owl:hasValue gr:qualitativeProductOrServiceProperty ;
			owl:onProperty rdfs:subPropertyOf
		] 
		[ rdf:type owl:Restriction ;
			owl:hasValue gr:quantitativeProductOrServiceProperty ;
			owl:onProperty rdfs:subPropertyOf
		]
	) .

# Agreement Conditions class hierarchy

:AgreementCondition
	rdf:type rdfs:Class , owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "An Agreement condition represent a constraint about a service property that can be checked within the terms of a service level agreement."^^xsd:string ;
	rdfs:label "Agreement condition"^^xsd:string .

:GuaranteedValue
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Guaranteed value is an Agreement condition that specifies the concrete, unique value that the service property has to provide."^^xsd:string ;
	rdfs:label "Guaranteed value"^^xsd:string ;
	rdfs:subClassOf :AgreementCondition .

:BetweenGuaranteedValue
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Between guaranteed value is an Agreement condition that specifies the value interval that the service property has to provide."^^xsd:string ;
	rdfs:label "Between guaranteed value"^^xsd:string ;
	rdfs:subClassOf :AgreementCondition .

:MaxGuaranteedValue
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Max guaranteed value is an Agreement condition that specifies the maximum value that the service property has to provide."^^xsd:string ;
	rdfs:label "Max guaranteed value"^^xsd:string ;
	rdfs:subClassOf :AgreementCondition .

:MinGuaranteedValue
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "A Min guaranteed value is an Agreement condition that specifies the minimum value that the service property has to provide."^^xsd:string ;
	rdfs:label "Min guaranteed value"^^xsd:string ;
	rdfs:subClassOf :AgreementCondition .

# Properties

:hasAgreementTerm
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Refers to the Agreement Term that defines the corresponding agreement for a particular service offering."^^xsd:string ;
	rdfs:domain usdl-core:ServiceOffering ;
	rdfs:label "has agreement term"^^xsd:string ;
	rdfs:range :AgreementTerm .

:guaranteedOver
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Captures the concrete service over a certain term is guaranteed."^^xsd:string ;
	rdfs:domain :AgreementTerm ;
	rdfs:label "guaranteed over"^^xsd:string ;
	rdfs:range usdl-core:Service .

:guarantees
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Defines the condition that is guaranteed to be fulfilled by an agreement term of a service level agreement."^^xsd:string ;
	rdfs:domain :AgreementTerm ;
	rdfs:label "guarantees"^^xsd:string ;
	rdfs:range :AgreementCondition .

:hasPrecondition
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "States the precondition that has to be met to guarantee the agreement term. Preconditions are defined on service properties, therefore an Agreement Condition instance is used to represent them."^^xsd:string ;
	rdfs:domain :AgreementTerm ;
	rdfs:range :AgreementCondition .

:hasCompensation
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Supports the definition of compensations in case the guarantee term is not fulfilled.  A compensation is defined in terms of an alternative agreement term that will be fulfilled instead of the original guaranteed condition."^^xsd:string ;
	rdfs:domain :Guarantee ;
	rdfs:label "has compensation"^^xsd:string ;
	rdfs:range :Compensation .

:hasEntityLiability
	rdf:type owl:ObjectProperty ;
	rdfs:subPropertyOf usdl-core:hasEntityInvolvement ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Captures the liability which an involved entity (possibly unidentified business entity with a business role) has in a particular term of the agreement."^^xsd:string ;
	rdfs:domain :AgreementTerm ;
	rdfs:label "has entity liability"^^xsd:string ;
	rdfs:range :EntityLiability .

:withLiabilityRole
	rdf:type owl:ObjectProperty;
	rdfs:subPropertyOf usdl-core:withRole ;
    rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
    rdfs:label "with liability role"^^xsd:string ;
    rdfs:comment "Captures the liability role played by a business entity in a particular liability involvement."^^xsd:string ;
    rdfs:domain :EntityLiability ;
    rdfs:range :LiabilityRole.

:hasValidityInterval
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:label "has validity interval"^^xsd:string ;
	rdfs:comment "Captures the validity interval of an agreement term."^^xsd:string ;
	rdfs:domain :AgreementTerm ;
	rdfs:range time:Interval .

:hasEvaluationInterval
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:label "has evaluation interval"^^xsd:string ;
	rdfs:comment "Captures the evaluation interval of an agreement condition."^^xsd:string ;
	rdfs:domain :AgreementCondition ;
	rdfs:range time:Interval .

:hasMeasuringInterval
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:label "has measuring interval"^^xsd:string ;
	rdfs:comment "Captures the measuring frequency of a metric."^^xsd:string ;
	rdfs:domain :Metric ;
	rdfs:range time:Interval .

:hasValue
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Captures the value of the referred service property that will be checked in order to evaluate an agreement condition. This value can be an explicit qualitative or quantitative value (depending on the nature of the referred property) or a metric definition to compute the actual value in runtime."^^xsd:string ;
	rdfs:domain :AgreementCondition ;
	rdfs:label "has value"^^xsd:string ;
	rdfs:range
		[ rdf:type owl:Class ;
			owl:unionOf (gr:QuantitativeValue gr:QualitativeValue :Metric)
		] .

:refersTo
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Captures the service property which the agreement condition is referring to. This property can be either a qualitative property or a quantitative one, as they are defined in GoodRelations."^^xsd:string ;
	rdfs:domain :AgreementCondition ;
	rdfs:label "refers to"^^xsd:string ;
	rdfs:range :ServiceProperty.

# Additional business roles added to the core basic business roles

usdl-br:conditionEvaluator
	rdf:type usdl-core:BusinessRole ;
    rdfs:label "Condition evaluator"@en ;
    skos:prefLabel "Condition evaluator"@en ;
    skos:definition "<p>A Condition evaluator is an entity (possibly a third party) that is responsible for evaluating the conditions of the agreement, checking whether the conditions are being fulfilled or not.</p>"@en ;
	skos:topConceptOf <http://www.linked-usdl.org/ns/usdl-business-roles>;
	skos:inScheme <http://www.linked-usdl.org/ns/usdl-business-roles>.

usdl-br:metricProvider
	rdf:type usdl-core:BusinessRole ;
    rdfs:label "Metric provider"@en ;
    skos:prefLabel "Metric provider"@en ;
    skos:definition "<p>A Metric provider is an entity (possibly a third party) that is responsible for producing measurements of the metrics defined in the agreement.</p>"@en ;
	skos:topConceptOf <http://www.linked-usdl.org/ns/usdl-business-roles>;
	skos:inScheme <http://www.linked-usdl.org/ns/usdl-business-roles>.

# Metric definition facilities
	
:Metric
	rdf:type owl:Class ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Represent a metric used to measure a service property."^^xsd:string ;
	rdfs:label "Metric"^^xsd:string ;
	rdfs:subClassOf owl:Thing .

:hasExpression
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Captures the expression that defines a metric computation. There is no restriction on how to define expressions, so they can simply be defined using strings or external vocabularies."^^xsd:string ;
	rdfs:domain :Metric ;
	rdfs:label "has expression"^^xsd:string ;
	rdfs:range rdfs:Resource .

:hasMetric
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy <http://www.linked-usdl.org/ns/usdl-agreement>;
	rdfs:comment "Enables the association of a Service property with a corresponding Metric that describes how to measure that property."^^xsd:string ;
	rdfs:label "has metric"^^xsd:string ;
	rdfs:domain :ServiceProperty ;
	rdfs:range :Metric .
